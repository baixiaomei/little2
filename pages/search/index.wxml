<!--pages/search/search.wxml-->
<view class="container">
  
  <swiper indicator-dots="{{indicatorDots}}"
  autoplay="{{autoplay}}" interval="{{interval}}" duration="{{duration}}" indicator-color="rgba(255, 255, 255, 0.5)" indicator-active-color="rgba(255, 255, 255, 1)">
    <block wx:for="{{imgUrls}}" wx:key="index">
      <swiper-item>
        <image  src="{{item}}" data-id="{{index}}" class="slide-image" width="750" height="600"/>
      </swiper-item>
    </block>
  </swiper>

  <view class="type-container">
    <scroll-view scroll-x class="type-navbar">
      <view class="type-box" wx:for-items="{{categories}}" wx:key="id">
        <view id="{{item.id}}" class="type-navbar-item {{activeCategoryId === item.id ? 'type-item-on' : ''}}" bindtap="tabClick">{{item.name}}</view>
      </view>
    </scroll-view>
  </view>

  <!--navigator标签的使用 和微信小程序富文本解析组件wxParse-->
  <!--navigator 的open-type属性是表示跳转方式 默认为navigate-->

  <view class="notice">
    <view class="notice_iteml">公告：</view>
    <swiper wx:if="true" class="notice_swiper" vertical="true" autoplay='true' circular="true" interval="3000">
      <navigator wx:for-items="{{noticeList.dataList}}" wx:key="id" url="/pages/notice/show?id={{item.id}}" open-type="navigate">
        <swiper-item>
          <view class="notice_itemr">{{item.title}}</view>
        </swiper-item>
      </navigator>
    </swiper>
  </view>


  <view class="goods-container">
    <view class="goods-box" wx:for-items="{{goods}}" wx:key="{{index}}" bindtap="toDetailsTap" data-id="{{item.id}}">
      <view class="img-box">
        <image src="{{item.pic}}_m" class="image" mode="aspectFill" lazy-load="true"/>
      </view>
      <view class="goods-title">{{item.name}}</view>
      <view style='display:flex;'>
      <view class="goods-price">¥ {{item.minPrice}}</view>
      <view wx:if="{{item.originalPrice && item.originalPrice > 0}}" class="goods-price" style='color:#aaa;text-decoration:line-through'>¥ {{item.originalPrice}}</view>
      </view>           
  </view>
  </view>

  <view class="search-view" style="background: {{ scrollTop === 0 ? '-webkit-linear-gradient(top, rgba(105, 195, 170, 1), rgba(105, 195, 170, 0.3))' : ( scrollTop < 200 ? 'rgba(105, 195, 170, ' + (scrollTop/400 + 0.3) + ')' : 'rgba(105, 195, 170, 1)' ) }}">
  <view class="search-content">
    <image class="search-icon" src="../../images/search-pic.png"></image>
    <input placeholder='请输入搜索内容' class="search-input" maxlength="30" confirm-type='搜索' bindinput='listenerSearchInput' bindconfirm=''toSearch></input>
    <button class="search-btn" bindtap="toSearch">搜索</button>
  </view>
</view>
</view>
